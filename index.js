const y=document.querySelector("#app"),i=document.createElement("canvas"),e=i.getContext("2d"),s=document.getElementById("angle"),g=document.getElementById("max-level"),b="#FFF";let p=Math.PI*.5,m=window.innerHeight/3,H=[window.innerWidth/2,window.innerHeight],S=0,o=!0;i.height=window.innerHeight;i.width=window.innerWidth;function w(t,n,r,a){const c=Math.PI*Number(s.value),v=.7,x=Number(g.value);let h=[Number((r*Math.cos(n)).toFixed(2)),Number((r*Math.sin(n)).toFixed(2))],d=[t[0]+h[0],t[1]-h[1]];N(t,d);let F=n+c,u=Number((r*v).toFixed(2)),W=n-c,l=a+1;console.log(l),a<x&&(w(d,F,u,l),w(d,W,u,l))}function N(t,n){e.strokeStyle=b,e.beginPath(),e.moveTo(t[0],t[1]),e.lineTo(n[0],n[1]),e.stroke()}window.onresize=()=>{i.height=window.innerHeight,i.width=window.innerWidth,e.clearRect(0,0,window.innerWidth*2,window.innerHeight),e.fillStyle="#000",e.fillRect(0,0,window.innerWidth,window.innerHeight),m=window.innerHeight/3,H=[window.innerWidth/2,window.innerHeight],o=!0};requestAnimationFrame(f);function f(){o&&(e.clearRect(0,0,window.innerWidth*2,window.innerHeight),e.fillStyle="#000",e.fillRect(0,0,window.innerWidth,window.innerHeight),w(H,p,m,S),o=!1),requestAnimationFrame(f)}s.oninput=()=>{o=!0};g.onchange=()=>{o=!0};y.append(i);
